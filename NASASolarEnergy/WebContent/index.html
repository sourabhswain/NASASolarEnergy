<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>jQuery UI Slider - Range slider</title>
<link rel="stylesheet"
	href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="css/sheet1.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
<script>
	$(function() {
		$("#slider-range").slider({
			range : true,
			min : 0,
			max : 24,
			values : [ 0, 24 ],
			slide : function(event, ui) {
				$("#amount").val(ui.values[0] + " - " + ui.values[1]+" hrs");
			}
		});
		$("#amount").val(
				$("#slider-range").slider("values", 0) + " - "
						+ $("#slider-range").slider("values", 1) + " hrs");

		var $slider = $('#slider-range');
		var max = $slider.slider("option", "max");
		var spacing = 5;

		$slider.find('.ui-slider-tick-mark').remove();
		for (var i = 0; i < max - 3; i++) {
			$('<span class="ui-slider-tick-mark"></span>').css('left',
					(spacing * i) + '%').appendTo($slider);
		}
		$("#datepicker").datepicker({
			prevText : "Earlier",
			defaultDate: new Date(2016,08,01),
			onSelect : function(date) {
				console.log(date);
				var d=new Date(date);				
				console.log("d.getDate() "+d.getDate());
				console.log("d.getMonth() "+d.getMonth());
				console.log("d.getDay() "+d.getFullYear());
				var data;
				$.support.cors = true;
				
				/* $.get("data/convertcsv.json", function(data, status){
			        console.log("Data: " + data.length + "\nStatus: " + status);
			        console.log(data[0]);			        		
			        
			    }); */
				this.xhr = $.ajax({
					crossDomain : true,
					url : "data/convertcsv.json",
					type : "get",
					data : data,
					accept : "application/json",
					contentType : "application/json; charset=utf-8",
					dataType : "json",
					success : function(response) {
						console.log("success");
						console.log(response[0].DATE + ", "+date);
						var date1=$.datepicker.parseDate("yy-mm-dd", response[0].DATE) 
						var date2=$.datepicker.parseDate("yy-mm-dd", date);
						console.log(date1.getTime()===date2.getTime());
					},
					error: function(xhr, status, error) {
						  var err = JSON.parse(xhr.responseText);
						  console(err.Message);
					},
					fail : function(response) {
						console.log("fail");
						console.log(response)
					}
				});
			},
			dateFormat: 'yy-mm-dd'
		});
	});

	$(function() {
		var panel_image = $("#panel_image");

		$("#panel").selectmenu({
			change : function(event, data) {
				$('#panel_image').attr("src", $('#panel').val());
			}
		});

	});
</script>
</head>
<body>
	<div>
		<p>
		<p>
			Date: <input type="text" id="datepicker" onclick="click()">
		</p>
		<input type="text" id="amount" readonly
			style="border: 0; color: #f6931f; font-weight: bold;">

		</p>
		<div id="slider-range" style="width: 100%"></div>
	</div>
	<br>
	<div style="width: 50%; float: left;">
		<div style="margin-left: 15%">
			<img src="img/images.jpg" width="30%">
		</div>
		<div style="width: 100%">
			<img id="panel_image" src="img/monocrystalline.png"
				style="float: right; width: 20%">
		</div>
		<div style="padding-top: 10%;">
			<h2>Select the type of panel:</h2>
			<select id="panel" style="margin-left: 10%">
				<option value="img/monocrystalline.png">SolarA</option>
				<option value="img/panel2.jpg">SolarB</option>
				<option value="img/panel1.jpg">SolarC</option>
			</select>
		</div>
	</div>
	<div style="width: 49%; float: right; margin-left: 1%">
		<img src="img/sunrays.jpg"> <img src="img/sunrays.jpg"> <img
			src="img/sunrays.jpg"> <img src="img/sunrays.jpg">
	</div>
</body>
</html>
